{"abi":[{"type":"function","name":"collectFees","inputs":[],"outputs":[{"name":"fees0","type":"uint256","internalType":"uint256"},{"name":"fees1","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"currentRange","inputs":[],"outputs":[{"name":"lower","type":"int24","internalType":"int24"},{"name":"upper","type":"int24","internalType":"int24"},{"name":"liquidity","type":"uint128","internalType":"uint128"}],"stateMutability":"view"},{"type":"function","name":"exitAndWithdrawAll","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"exitPositionToVault","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"openInitialPosition","inputs":[{"name":"lower","type":"int24","internalType":"int24"},{"name":"upper","type":"int24","internalType":"int24"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pool","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"positionTokenId","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"rebalance","inputs":[{"name":"lower","type":"int24","internalType":"int24"},{"name":"upper","type":"int24","internalType":"int24"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"rebalanceWithCaps","inputs":[{"name":"lower","type":"int24","internalType":"int24"},{"name":"upper","type":"int24","internalType":"int24"},{"name":"maxUse0","type":"uint256","internalType":"uint256"},{"name":"maxUse1","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPoolByFactory","inputs":[{"name":"tokenA","type":"address","internalType":"address"},{"name":"tokenB","type":"address","internalType":"address"},{"name":"fee","type":"uint24","internalType":"uint24"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"setPoolOnce","inputs":[{"name":"pool_","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"twapOk","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"withdrawAll","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"Collected","inputs":[{"name":"fees0","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fees1","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Exited","inputs":[{"name":"tokenId","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sent0","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"sent1","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Opened","inputs":[{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"lower","type":"int24","indexed":false,"internalType":"int24"},{"name":"upper","type":"int24","indexed":false,"internalType":"int24"}],"anonymous":false},{"type":"event","name":"PoolSet","inputs":[{"name":"pool","type":"address","indexed":true,"internalType":"address"}],"anonymous":false},{"type":"event","name":"Rebalanced","inputs":[{"name":"tokenId","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"lower","type":"int24","indexed":false,"internalType":"int24"},{"name":"upper","type":"int24","indexed":false,"internalType":"int24"},{"name":"fees0","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fees1","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Withdrawn","inputs":[{"name":"amount0","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"amount1","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"collectFees()":"c8796572","currentRange()":"dea92c6e","exitAndWithdrawAll()":"d5a3055f","exitPositionToVault()":"7ba45d59","openInitialPosition(int24,int24)":"a04cedd5","owner()":"8da5cb5b","pool()":"16f0115b","positionTokenId()":"ceefe5d1","rebalance(int24,int24)":"393ed075","rebalanceWithCaps(int24,int24,uint256,uint256)":"824518de","setPoolByFactory(address,address,uint24)":"7f8f878f","setPoolOnce(address)":"abc5d5fa","twapOk()":"c4f97bfb","withdrawAll()":"853828b6"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fees0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fees1\",\"type\":\"uint256\"}],\"name\":\"Collected\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sent0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"sent1\",\"type\":\"uint256\"}],\"name\":\"Exited\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int24\",\"name\":\"lower\",\"type\":\"int24\"},{\"indexed\":false,\"internalType\":\"int24\",\"name\":\"upper\",\"type\":\"int24\"}],\"name\":\"Opened\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"pool\",\"type\":\"address\"}],\"name\":\"PoolSet\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"int24\",\"name\":\"lower\",\"type\":\"int24\"},{\"indexed\":false,\"internalType\":\"int24\",\"name\":\"upper\",\"type\":\"int24\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fees0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fees1\",\"type\":\"uint256\"}],\"name\":\"Rebalanced\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount0\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount1\",\"type\":\"uint256\"}],\"name\":\"Withdrawn\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"collectFees\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"fees0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fees1\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"currentRange\",\"outputs\":[{\"internalType\":\"int24\",\"name\":\"lower\",\"type\":\"int24\"},{\"internalType\":\"int24\",\"name\":\"upper\",\"type\":\"int24\"},{\"internalType\":\"uint128\",\"name\":\"liquidity\",\"type\":\"uint128\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"exitAndWithdrawAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"exitPositionToVault\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int24\",\"name\":\"lower\",\"type\":\"int24\"},{\"internalType\":\"int24\",\"name\":\"upper\",\"type\":\"int24\"}],\"name\":\"openInitialPosition\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"owner\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"pool\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"positionTokenId\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int24\",\"name\":\"lower\",\"type\":\"int24\"},{\"internalType\":\"int24\",\"name\":\"upper\",\"type\":\"int24\"}],\"name\":\"rebalance\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"int24\",\"name\":\"lower\",\"type\":\"int24\"},{\"internalType\":\"int24\",\"name\":\"upper\",\"type\":\"int24\"},{\"internalType\":\"uint256\",\"name\":\"maxUse0\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"maxUse1\",\"type\":\"uint256\"}],\"name\":\"rebalanceWithCaps\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenA\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"tokenB\",\"type\":\"address\"},{\"internalType\":\"uint24\",\"name\":\"fee\",\"type\":\"uint24\"}],\"name\":\"setPoolByFactory\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"pool_\",\"type\":\"address\"}],\"name\":\"setPoolOnce\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"twapOk\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"withdrawAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"events\":{\"Collected(uint256,uint256)\":{\"params\":{\"fees0\":\"Amount of token0 fees collected.\",\"fees1\":\"Amount of token1 fees collected.\"}}},\"kind\":\"dev\",\"methods\":{},\"title\":\"Interface for SingleUserVault\",\"version\":1},\"userdoc\":{\"events\":{\"Collected(uint256,uint256)\":{\"notice\":\"Emitted when fees are collected without changing liquidity.\"},\"Exited(uint256,uint256,uint256)\":{\"notice\":\"Emitted after exit the vault/pool.\"},\"Opened(uint256,int24,int24)\":{\"notice\":\"Emitted after the initial position is opened.\"},\"PoolSet(address)\":{\"notice\":\"Emitted when the pool address is locked for this vault.\"},\"Rebalanced(uint256,int24,int24,uint256,uint256)\":{\"notice\":\"Emitted after a manual rebalance.\"},\"Withdrawn(uint256,uint256)\":{\"notice\":\"Emitted after funds are withdrawn from the vault.\"}},\"kind\":\"user\",\"methods\":{\"currentRange()\":{\"notice\":\"Returns current tick bounds and liquidity for the managed position.\"},\"exitAndWithdrawAll()\":{\"notice\":\"Exits de the pool and the vault. Owner -only.\"},\"exitPositionToVault()\":{\"notice\":\"Exits only the pool. Owner-only.\"},\"openInitialPosition(int24,int24)\":{\"notice\":\"Opens the initial LP position using provided tick bounds. Owner-only.\"},\"owner()\":{\"notice\":\"Returns the current owner address.\"},\"pool()\":{\"notice\":\"Returns the locked Uniswap V3 pool address.\"},\"positionTokenId()\":{\"notice\":\"Returns the current Uniswap V3 position tokenId (0 if not opened).\"},\"rebalance(int24,int24)\":{\"notice\":\"Performs a manual rebalance to new tick bounds. Owner-only.\"},\"rebalanceWithCaps(int24,int24,uint256,uint256)\":{\"notice\":\"Performs a rebalance using explicit caps (no swaps), consuming up to maxUse0/maxUse1.\"},\"setPoolByFactory(address,address,uint24)\":{\"notice\":\"Resolves pool via factory using tokens and fee, then locks it. Can be called only once by owner.\"},\"setPoolOnce(address)\":{\"notice\":\"Locks the pool by direct address. Can be called only once by owner.\"},\"twapOk()\":{\"notice\":\"Returns true if the TWAP deviation against spot is within the configured bound.\"},\"withdrawAll()\":{\"notice\":\"Withdraws all available token balances to owner. Owner-only.\"}},\"notice\":\"Single-owner vault that manages a single Uniswap V3 LP position with manual rebalances.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/ISingleUserVault.sol\":\"ISingleUserVault\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1000000},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":@uniswap/swap-router-contracts/=lib/swap-router-contracts/\",\":@uniswap/v3-core/=lib/v3-core/\",\":@uniswap/v3-periphery/=lib/v3-periphery/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\",\":swap-router-contracts/=lib/swap-router-contracts/contracts/\",\":v3-core/=lib/v3-core/\",\":v3-periphery/=lib/v3-periphery/contracts/\"],\"viaIR\":true},\"sources\":{\"src/events/VaultEvents.sol\":{\"keccak256\":\"0x673ff362dbf00266d8c8e4dcd92ef75b24d55395798df09926ed9346b03238fc\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://60a584e468faa9d6b146f19907cdaf535fd2140c081182b38c2c4114264d49cf\",\"dweb:/ipfs/QmVtjK97XbrcFE7JgWSkHXchRcftnn8XcNueB1BPLJ8Sfe\"]},\"src/interfaces/ISingleUserVault.sol\":{\"keccak256\":\"0xcb3deb11243b7460b77c3a8aad2360feba9395a4c981b168136b346c8cc01a0e\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://c6a684cbd440c59098ff067c16efa0cd93ba315fe4fa4a4ec6651978512defd3\",\"dweb:/ipfs/QmYdAozgG2EA7BSnMVLKSTenjwk7GR9qWhDthZkLQx8kWU\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"fees0","type":"uint256","indexed":false},{"internalType":"uint256","name":"fees1","type":"uint256","indexed":false}],"type":"event","name":"Collected","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":false},{"internalType":"uint256","name":"sent0","type":"uint256","indexed":false},{"internalType":"uint256","name":"sent1","type":"uint256","indexed":false}],"type":"event","name":"Exited","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true},{"internalType":"int24","name":"lower","type":"int24","indexed":false},{"internalType":"int24","name":"upper","type":"int24","indexed":false}],"type":"event","name":"Opened","anonymous":false},{"inputs":[{"internalType":"address","name":"pool","type":"address","indexed":true}],"type":"event","name":"PoolSet","anonymous":false},{"inputs":[{"internalType":"uint256","name":"tokenId","type":"uint256","indexed":true},{"internalType":"int24","name":"lower","type":"int24","indexed":false},{"internalType":"int24","name":"upper","type":"int24","indexed":false},{"internalType":"uint256","name":"fees0","type":"uint256","indexed":false},{"internalType":"uint256","name":"fees1","type":"uint256","indexed":false}],"type":"event","name":"Rebalanced","anonymous":false},{"inputs":[{"internalType":"uint256","name":"amount0","type":"uint256","indexed":false},{"internalType":"uint256","name":"amount1","type":"uint256","indexed":false}],"type":"event","name":"Withdrawn","anonymous":false},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"collectFees","outputs":[{"internalType":"uint256","name":"fees0","type":"uint256"},{"internalType":"uint256","name":"fees1","type":"uint256"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"currentRange","outputs":[{"internalType":"int24","name":"lower","type":"int24"},{"internalType":"int24","name":"upper","type":"int24"},{"internalType":"uint128","name":"liquidity","type":"uint128"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"exitAndWithdrawAll"},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"exitPositionToVault"},{"inputs":[{"internalType":"int24","name":"lower","type":"int24"},{"internalType":"int24","name":"upper","type":"int24"}],"stateMutability":"nonpayable","type":"function","name":"openInitialPosition"},{"inputs":[],"stateMutability":"view","type":"function","name":"owner","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"pool","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"positionTokenId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}]},{"inputs":[{"internalType":"int24","name":"lower","type":"int24"},{"internalType":"int24","name":"upper","type":"int24"}],"stateMutability":"nonpayable","type":"function","name":"rebalance"},{"inputs":[{"internalType":"int24","name":"lower","type":"int24"},{"internalType":"int24","name":"upper","type":"int24"},{"internalType":"uint256","name":"maxUse0","type":"uint256"},{"internalType":"uint256","name":"maxUse1","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"rebalanceWithCaps"},{"inputs":[{"internalType":"address","name":"tokenA","type":"address"},{"internalType":"address","name":"tokenB","type":"address"},{"internalType":"uint24","name":"fee","type":"uint24"}],"stateMutability":"nonpayable","type":"function","name":"setPoolByFactory"},{"inputs":[{"internalType":"address","name":"pool_","type":"address"}],"stateMutability":"nonpayable","type":"function","name":"setPoolOnce"},{"inputs":[],"stateMutability":"view","type":"function","name":"twapOk","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"withdrawAll"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"currentRange()":{"notice":"Returns current tick bounds and liquidity for the managed position."},"exitAndWithdrawAll()":{"notice":"Exits de the pool and the vault. Owner -only."},"exitPositionToVault()":{"notice":"Exits only the pool. Owner-only."},"openInitialPosition(int24,int24)":{"notice":"Opens the initial LP position using provided tick bounds. Owner-only."},"owner()":{"notice":"Returns the current owner address."},"pool()":{"notice":"Returns the locked Uniswap V3 pool address."},"positionTokenId()":{"notice":"Returns the current Uniswap V3 position tokenId (0 if not opened)."},"rebalance(int24,int24)":{"notice":"Performs a manual rebalance to new tick bounds. Owner-only."},"rebalanceWithCaps(int24,int24,uint256,uint256)":{"notice":"Performs a rebalance using explicit caps (no swaps), consuming up to maxUse0/maxUse1."},"setPoolByFactory(address,address,uint24)":{"notice":"Resolves pool via factory using tokens and fee, then locks it. Can be called only once by owner."},"setPoolOnce(address)":{"notice":"Locks the pool by direct address. Can be called only once by owner."},"twapOk()":{"notice":"Returns true if the TWAP deviation against spot is within the configured bound."},"withdrawAll()":{"notice":"Withdraws all available token balances to owner. Owner-only."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","@uniswap/swap-router-contracts/=lib/swap-router-contracts/","@uniswap/v3-core/=lib/v3-core/","@uniswap/v3-periphery/=lib/v3-periphery/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/","swap-router-contracts/=lib/swap-router-contracts/contracts/","v3-core/=lib/v3-core/","v3-periphery/=lib/v3-periphery/contracts/"],"optimizer":{"enabled":true,"runs":1000000},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/ISingleUserVault.sol":"ISingleUserVault"},"evmVersion":"paris","libraries":{},"viaIR":true},"sources":{"src/events/VaultEvents.sol":{"keccak256":"0x673ff362dbf00266d8c8e4dcd92ef75b24d55395798df09926ed9346b03238fc","urls":["bzz-raw://60a584e468faa9d6b146f19907cdaf535fd2140c081182b38c2c4114264d49cf","dweb:/ipfs/QmVtjK97XbrcFE7JgWSkHXchRcftnn8XcNueB1BPLJ8Sfe"],"license":"MIT"},"src/interfaces/ISingleUserVault.sol":{"keccak256":"0xcb3deb11243b7460b77c3a8aad2360feba9395a4c981b168136b346c8cc01a0e","urls":["bzz-raw://c6a684cbd440c59098ff067c16efa0cd93ba315fe4fa4a4ec6651978512defd3","dweb:/ipfs/QmYdAozgG2EA7BSnMVLKSTenjwk7GR9qWhDthZkLQx8kWU"],"license":"MIT"}},"version":1},"id":93}